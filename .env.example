# =============================================================================
# DataLens 2.0 â€” Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values for your environment.
# NEVER commit .env to source control.
# =============================================================================

# --- Application ---
APP_ENV=development                  # development | staging | production
APP_PORT=8080                        # API server port
APP_LOG_LEVEL=debug                  # debug | info | warn | error
APP_SECRET_KEY=change-me-in-prod     # Used for JWT signing, encryption

# --- Database (PostgreSQL) ---
DB_HOST=localhost
DB_PORT=5432
DB_NAME=datalens
DB_USER=datalens
DB_PASSWORD=datalens_dev
DB_SSL_MODE=disable                  # disable | require | verify-full
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME=5m

# --- Redis ---
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# --- NATS (Event Bus) ---
NATS_URL=nats://localhost:4222
NATS_CLUSTER_ID=datalens

# --- AI Providers ---
AI_DEFAULT_PROVIDER=openai           # openai | anthropic | local

# OpenAI
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=4096

# Anthropic
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# Local LLM (Ollama)
LOCAL_LLM_ENDPOINT=http://localhost:11434
LOCAL_LLM_MODEL=llama3.2

# --- Agent Configuration ---
AGENT_ID=                            # Unique agent identifier
AGENT_API_KEY=                       # Agent authentication key
SAAS_ENDPOINT=http://localhost:8080  # SaaS API URL

# --- JWT ---
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# --- Consent Module ---
CONSENT_SIGNING_KEY=your-hmac-signing-key-here  # HMAC-SHA256 key for consent records

# --- Observability ---
PROMETHEUS_PORT=9090
JAEGER_ENDPOINT=http://localhost:14268/api/traces
